<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <!-- Robot Params -->
    <arg name="robot_type" default="$(env ROBOT_TYPE)" doc="Robot type: [a1, aliengo, go1, laikago]" />

    <group if="$(eval arg('robot_type') == 'go1')">
        <!-- Go1 Version -->
        <param name="legged_robot_description"
            command="$(find xacro)/xacro $(find legged_unitree_description)/urdf/go1/robot.xacro
        robot_type:=$(arg robot_type)" />
        <node name="generate_urdf" pkg="legged_common" type="generate_urdf.sh" output="screen"
            args="$(find legged_unitree_description)/urdf/go1/robot.xacro $(arg robot_type)" />
    </group>

    <group unless="$(eval arg('robot_type') == 'go1')">
        <param name="legged_robot_description"
            command="$(find xacro)/xacro $(find legged_unitree_description)/urdf/robot.xacro
        robot_type:=$(arg robot_type)" />
        <node name="generate_urdf" pkg="legged_common" type="generate_urdf.sh" output="screen"
            args="$(find legged_unitree_description)/urdf/robot.xacro $(arg robot_type)" />
    </group>

    <rosparam file="$(find legged_gazebo)/config/default.yaml" command="load" />
    <param name="urdfFile" value="/tmp/legged_control/$(arg robot_type).urdf" />
    <param name="taskFile" value="$(find legged_body_planner)/config/$(arg robot_type)/task.info" />
    <param name="referenceFile"
        value="$(find legged_body_planner)/config/$(arg robot_type)/reference.info" />
    <param name="gaitCommandFile"
        value="$(find legged_body_planner)/config/$(arg robot_type)/gait.info" />

    <!-- <rosparam file="$(find legged_controllers)/config/controllers.yaml" command="load" /> -->

    <!-- Legged Body Plan -->
    <rosparam file="$(find legged_body_planner)/config/legged_body_planner.yaml" command="load" />
    <rosparam file="$(find legged_body_planner)/config/legged_body_planner_topics.yaml"
        command="load" />
</launch>